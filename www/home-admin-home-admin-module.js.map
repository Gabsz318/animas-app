{"version":3,"sources":["./src/app/home-admin/home-admin-routing.module.ts","./src/app/home-admin/home-admin.page.ts","./src/app/home-admin/home-admin.page.scss","./src/app/home-admin/home-admin.page.html","./src/app/home-admin/home-admin.module.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;AAAyC;AACc;AAEL;AAElD,MAAM,MAAM,GAAW;IACrB;QACE,IAAI,EAAE,EAAE;QACR,SAAS,EAAE,8DAAa;KACzB;CACF,CAAC;IAMW,0BAA0B,SAA1B,0BAA0B;CAAG;AAA7B,0BAA0B;IAJtC,8DAAQ,CAAC;QACR,OAAO,EAAE,CAAC,4DAAY,CAAC,QAAQ,CAAC,MAAM,CAAC,CAAC;QACxC,OAAO,EAAE,CAAC,4DAAY,CAAC;KACxB,CAAC;GACW,0BAA0B,CAAG;AAAH;;;;;;;;;;;;;;;;;;;;;;;;;;AChBW;AACG;AACM;AAClB;AACW;IAOvC,aAAa,SAAb,aAAa;IACxB,YACmB,eAAgC,EACzC,WAA6B,EACpB,MAAc;QAFd,oBAAe,GAAf,eAAe,CAAiB;QACzC,gBAAW,GAAX,WAAW,CAAkB;QACpB,WAAM,GAAN,MAAM,CAAQ;IAC9B,CAAC;IAKE,QAAQ;;YACZ,IAAI,CAAC,eAAe,CAAC,SAAS,CAAC,SAAS,CAAC,CAAC,SAAS,EAAE,EAAE;gBACrD,IAAI,CAAC,IAAI,GAAG,SAAS,CAAC,KAAK;qBACxB,OAAO,CAAC,YAAY,EAAE,EAAE,CAAC;qBACzB,OAAO,CAAC,KAAK,EAAE,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,WAAW,EAAE,CAAC,CAAC;YAC5C,CAAC,CAAC,CAAC;YACH,IAAI,CAAC,WAAW;iBACb,UAAU,CAAC,QAAQ,CAAC;iBACpB,eAAe,EAAE;iBACjB,SAAS,CAAC,CAAC,CAAC,EAAE,EAAE;gBACf,OAAO,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;gBACf,IAAI,CAAC,eAAe,GAAG,CAAC,CAAC,MAAM,CAC7B,CAAC,CAAM,EAAE,EAAE,CAAC,CAAC,CAAC,OAAO,CAAC,GAAG,CAAC,IAAI,EAAE,CAAC,MAAM,KAAK,+DAAW,CAAC,SAAS,CAClE,CAAC,MAAM,CAAC;YACX,CAAC,CAAC,CAAC;QACP,CAAC;KAAA;IAEK,MAAM;;YACV,MAAM,IAAI,CAAC,eAAe,CAAC,OAAO,EAAE,CAAC;QACvC,CAAC;KAAA;IAED,UAAU;QACR,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,uBAAuB,CAAC,CAAC,CAAC;IAClD,CAAC;IAED,QAAQ;QACN,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,mBAAmB,CAAC,CAAC,CAAC;IAC9C,CAAC;CACF;;YAhDQ,kEAAe;YACf,wEAAgB;YAChB,sDAAM;;AAQF,aAAa;IALzB,+DAAS,CAAC;QACT,QAAQ,EAAE,gBAAgB;QAC1B,kFAAqC;;KAEtC,CAAC;GACW,aAAa,CAsCzB;AAtCyB;;;;;;;;;;;;;ACX1B;AAAe,qFAAsB,kBAAkB,4BAA4B,0BAA0B,GAAG,6CAA6C,ubAAub,E;;;;;;;;;;;;ACAplB;AAAe,6JAA8F,MAAM,sfAAsf,iBAAiB,m7DAAm7D,E;;;;;;;;;;;;;;;;;;;;;;ACApgF;AACM;AACF;AAEA;AAE4B;AAEvB;IAWrC,mBAAmB,SAAnB,mBAAmB;CAAG;AAAtB,mBAAmB;IAT/B,8DAAQ,CAAC;QACR,OAAO,EAAE;YACP,4DAAY;YACZ,0DAAW;YACX,0DAAW;YACX,qFAA0B;SAC3B;QACD,YAAY,EAAE,CAAC,8DAAa,CAAC;KAC9B,CAAC;GACW,mBAAmB,CAAG;AAAH","file":"home-admin-home-admin-module.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { HomeAdminPage } from './home-admin.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: HomeAdminPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class HomeAdminPageRoutingModule {}\n","import { Component, OnInit } from '@angular/core';\nimport { AngularFireAuth } from '@angular/fire/auth';\nimport { AngularFirestore } from '@angular/fire/firestore';\nimport { Router } from '@angular/router';\nimport { CabinStatus } from '../cabin/cabin-status';\n\n@Component({\n  selector: 'app-home-admin',\n  templateUrl: './home-admin.page.html',\n  styleUrls: ['./home-admin.page.scss'],\n})\nexport class HomeAdminPage implements OnInit {\n  constructor(\n    private readonly angularFireAuth: AngularFireAuth,\n    private ngFirestore: AngularFirestore,\n    private readonly router: Router\n  ) {}\n\n  user: any;\n  cabinsOccupated: any;\n\n  async ngOnInit() {\n    this.angularFireAuth.authState.subscribe((authState) => {\n      this.user = authState.email\n        .replace('@admin.com', '')\n        .replace(/^\\w/, (c) => c.toUpperCase());\n    });\n    this.ngFirestore\n      .collection('cabins')\n      .snapshotChanges()\n      .subscribe((d) => {\n        console.log(d);\n        this.cabinsOccupated = d.filter(\n          (d: any) => d.payload.doc.data().status === CabinStatus.Reservada\n        ).length;\n      });\n  }\n\n  async logout() {\n    await this.angularFireAuth.signOut();\n  }\n\n  addBooking() {\n    this.router.navigate(['bookings/booking-form']);\n  }\n\n  addCabin() {\n    this.router.navigate(['cabins/cabin-form']);\n  }\n}\n","export default \".home-admin__cabins {\\n  display: flex;\\n  justify-content: center;\\n  align-items: flex-end;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uXFwuLlxcLi5cXGhvbWUtYWRtaW4ucGFnZS5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUNJO0VBQ0ksYUFBQTtFQUNBLHVCQUFBO0VBQ0EscUJBQUE7QUFBUiIsImZpbGUiOiJob21lLWFkbWluLnBhZ2Uuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIi5ob21lLWFkbWluIHtcclxuICAgICZfX2NhYmlucyB7XHJcbiAgICAgICAgZGlzcGxheTogZmxleDtcclxuICAgICAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcclxuICAgICAgICBhbGlnbi1pdGVtczogZmxleC1lbmQ7XHJcbiAgICB9XHJcbn0iXX0= */\";","export default \"<ion-header>\\n    <ion-toolbar class=\\\"custom-background\\\">\\n        <ion-title>Bienvenido {{user}}</ion-title>\\n    </ion-toolbar>\\n</ion-header>\\n<ion-content>\\n    <ion-grid>\\n        <ion-row>\\n            <ion-col>\\n                <ion-text color=\\\"dark\\\">\\n                    <h2>Las caba単as rentadas hoy son:</h2>\\n                </ion-text>\\n            </ion-col>\\n        </ion-row>\\n        <ion-row class=\\\"ion-align-items-end\\\">\\n            <ion-col>\\n                <div class=\\\"home-admin__cabins\\\">\\n                    <ion-text color=\\\"primary\\\">\\n                        <h1>{{cabinsOccupated}}</h1>\\n                    </ion-text>\\n                    <img src=\\\"assets/icon/cabin.svg\\\" height=\\\"150\\\">\\n                </div>\\n            </ion-col>\\n        </ion-row>\\n        <ion-row>\\n            <ion-col>\\n                <div class=\\\"home-admin__cabins\\\">\\n                    <ion-button color=\\\"secondary\\\" tappable (click)=\\\"addBooking()\\\">\\n                        Reservar caba単a\\n                        <ion-ripple-effect></ion-ripple-effect>\\n                    </ion-button>\\n                </div>\\n            </ion-col>\\n        </ion-row>\\n        <ion-row>\\n            <ion-col>\\n                <div class=\\\"home-admin__cabins\\\">\\n                    <ion-button color=\\\"secondary\\\" tappable (click)=\\\"addCabin()\\\">\\n                        Crear caba単a\\n                        <ion-ripple-effect></ion-ripple-effect>\\n                    </ion-button>\\n                </div>\\n            </ion-col>\\n        </ion-row>\\n    </ion-grid>\\n</ion-content>\\n<ion-tab-bar slot=\\\"bottom\\\">\\n    <ion-tab-button href=\\\"home-admin\\\">\\n        <ion-label>Inicio</ion-label>\\n        <ion-icon name=\\\"home-outline\\\"></ion-icon>\\n    </ion-tab-button>\\n    <ion-tab-button href=\\\"cabins\\\">\\n        <ion-label>Caba単as</ion-label>\\n        <ion-icon name=\\\"cabin\\\"></ion-icon>\\n    </ion-tab-button>\\n    <ion-tab-button href=\\\"bookings\\\">\\n        <ion-label>Reservas</ion-label>\\n        <ion-icon name=\\\"ticket-outline\\\"></ion-icon>\\n    </ion-tab-button>\\n    <ion-tab-button href=\\\"clients\\\">\\n        <ion-label>Clientes</ion-label>\\n        <ion-icon name=\\\"people-outline\\\"></ion-icon>\\n    </ion-tab-button>\\n    <ion-tab-button href=\\\"disccounts\\\">\\n        <ion-label>Promos</ion-label>\\n        <ion-icon name=\\\"disccount\\\"></ion-icon>\\n    </ion-tab-button>\\n    <ion-tab-button (click)=\\\"logout()\\\">\\n        <ion-label>Salir</ion-label>\\n        <ion-icon name=\\\"log-out-outline\\\"></ion-icon>\\n    </ion-tab-button>\\n</ion-tab-bar>\";","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { HomeAdminPageRoutingModule } from './home-admin-routing.module';\n\nimport { HomeAdminPage } from './home-admin.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    HomeAdminPageRoutingModule\n  ],\n  declarations: [HomeAdminPage]\n})\nexport class HomeAdminPageModule {}\n"],"sourceRoot":"webpack:///"}