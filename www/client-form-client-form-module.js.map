{"version":3,"sources":["./src/app/clients/client-form/client-form-routing.module.ts","./src/app/clients/client-form/client-form.page.ts","./src/app/clients/client-form/client-form.module.ts","./src/app/clients/client-form/client-form.page.scss","./src/app/clients/client-form/client-fields.ts","./src/app/clients/client-form/client-form.page.html"],"names":[],"mappings":"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","file":"client-form-client-form-module.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { ClientFormPage } from './client-form.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: ClientFormPage\n  },\n  {\n    path: ':clientId',\n    component: ClientFormPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class ClientFormPageRoutingModule {}\n","import { Component, OnInit } from '@angular/core';\nimport { AngularFirestore } from '@angular/fire/firestore';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { Client } from './client';\nimport { clientFields } from './client-fields';\n\n@Component({\n  selector: 'app-client-form',\n  templateUrl: './client-form.page.html',\n  styleUrls: ['./client-form.page.scss'],\n})\nexport class ClientFormPage implements OnInit {\n  constructor(\n    private readonly ngFirestore: AngularFirestore,\n    private readonly route: ActivatedRoute,\n    private readonly router: Router\n  ) {}\n\n  clientFields = clientFields;\n  clientId: string;\n  client: Client = {\n    name: '',\n    telphone: '',\n    address: '',\n    email: '',\n  };\n  missingFields;\n\n  ngOnInit() {\n    this.clientId = this.route.snapshot.params.clientId;\n    if (this.clientId) {\n      this.ngFirestore\n        .collection('clients')\n        .doc(this.clientId)\n        .valueChanges()\n        .subscribe((d) => (this.client = d as Client));\n    }\n  }\n\n  save() {\n    if (!this.clientId) {\n      this.ngFirestore.collection('clients').add(this.client);\n      \n      this.router.navigate(['clients']);\n    } else {\n      this.ngFirestore\n        .collection('clients')\n        .doc(this.clientId)\n        .update(this.client)\n        .then(() => {\n          this.router.navigate(['clients']);\n        })\n        .catch((error) => console.log(error));\n    }\n  }\n\n  delete() {\n    this.ngFirestore.doc('clients/' + this.clientId).delete();\n    this.router.navigate(['clients']);\n  }\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { ClientFormPageRoutingModule } from './client-form-routing.module';\n\nimport { ClientFormPage } from './client-form.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    ClientFormPageRoutingModule\n  ],\n  declarations: [ClientFormPage]\n})\nexport class ClientFormPageModule {}\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJjbGllbnQtZm9ybS5wYWdlLnNjc3MifQ== */\";","export const clientFields = [\r\n    { fieldName: 'name', label: 'Nombre', required: true, type: 'text' },\r\n    { fieldName: 'telphone', label: 'Teléfono', required: true, type: 'text' },\r\n    { fieldName: 'address', label: 'Dirección', required: true, type: 'text' },\r\n    { fieldName: 'email', label: 'Correo', required: true, type: 'email' }\r\n  ];\r\n  ","export default \"<ion-header>\\n    <ion-toolbar class=\\\"custom-background\\\">\\n        <ion-title>{{clientId ?'Editar ': 'Crear '}}Cliente {{client?.name}}</ion-title>\\n    </ion-toolbar>\\n</ion-header>\\n\\n<ion-content>\\n    <ion-fab *ngIf=\\\"clientId\\\" vertical=\\\"bottom\\\" horizontal=\\\"start\\\" slot=\\\"fixed\\\" (click)=\\\"delete()\\\">\\n        <ion-fab-button color=\\\"danger\\\">\\n            <ion-icon class=\\\"danger\\\" name=\\\"trash\\\"></ion-icon>\\n        </ion-fab-button>\\n    </ion-fab>\\n    <!-- fab placed to the bottom end-->\\n    <ion-fab vertical=\\\"bottom\\\" horizontal=\\\"end\\\" slot=\\\"fixed\\\" (click)=\\\"save()\\\">\\n        <ion-fab-button color=\\\"tertiary\\\">\\n            <ion-icon class=\\\"white\\\" name=\\\"checkmark-done-outline\\\"></ion-icon>\\n        </ion-fab-button>\\n    </ion-fab>\\n    <ion-list>\\n        <ion-item *ngIf=\\\"missingFields\\\">\\n            <ion-badge style=\\\"width: 100%;\\\" color=\\\"danger\\\">\\n                Tienes campos sin completar:\\n                <p *ngFor=\\\"let field of missingFields\\\">\\n                    {{field}}\\n                </p>\\n            </ion-badge>\\n        </ion-item>\\n        <ion-item *ngFor=\\\"let field of clientFields\\\">\\n            <ion-label>{{field.label}}</ion-label>\\n            <ion-input [disabled]=\\\"field.fieldName === 'cabin_name'\\\" [type]=\\\"field.type\\\" [(ngModel)]=\\\"client[field.fieldName]\\\"></ion-input>\\n        </ion-item>\\n    </ion-list>\\n</ion-content>\";"],"sourceRoot":"webpack:///"}