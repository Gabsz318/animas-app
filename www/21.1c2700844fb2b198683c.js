(window.webpackJsonp=window.webpackJsonp||[]).push([[21],{Srj9:function(n,o,i){"use strict";i.r(o),i.d(o,"HomeBookingsPageModule",function(){return h});var t=i("ofXK"),e=i("3Pt+"),b=i("TEn/"),a=i("tyNb"),c=i("mrSG"),r=i("7f/p"),s=i("fXoL"),l=i("UbJi"),u=i("I/3d");const d=[{path:"",component:(()=>{class n{constructor(n,o,i){this.angularFireAuth=n,this.ngFirestore=o,this.router=i}ngOnInit(){return Object(c.b)(this,void 0,void 0,function*(){this.angularFireAuth.authState.subscribe(n=>{this.user=n.email.replace("@captura.com","").replace(/^\w/,n=>n.toUpperCase())}),this.ngFirestore.collection("cabins").snapshotChanges().subscribe(n=>{console.log(n),this.cabinsOccupated=n.filter(n=>n.payload.doc.data().status===r.a.Reservada).length})})}logout(){return Object(c.b)(this,void 0,void 0,function*(){yield this.angularFireAuth.signOut(),this.router.navigate(["login"])})}addBooking(){this.router.navigate(["bookings/booking-form"])}addCabin(){this.router.navigate(["cabins/cabin-form"])}}return n.\u0275fac=function(o){return new(o||n)(s.Mb(l.a),s.Mb(u.a),s.Mb(a.g))},n.\u0275cmp=s.Gb({type:n,selectors:[["app-home-bookings"]],decls:41,vars:2,consts:[[1,"custom-background"],["color","dark"],[1,"ion-align-items-end"],[1,"home-admin__cabins"],["color","primary"],["src","assets/icon/cabin.svg","height","150"],["color","secondary","tappable","",3,"click"],["slot","bottom"],["href","./home-bookings"],["name","home-outline"],["href","./bookings"],["name","ticket-outline"],["href","./clients"],["name","people-outline"],[3,"click"],["name","log-out-outline"]],template:function(n,o){1&n&&(s.Rb(0,"ion-header"),s.Rb(1,"ion-toolbar",0),s.Rb(2,"ion-title"),s.mc(3),s.Qb(),s.Qb(),s.Qb(),s.Rb(4,"ion-content"),s.Rb(5,"ion-grid"),s.Rb(6,"ion-row"),s.Rb(7,"ion-col"),s.Rb(8,"ion-text",1),s.Rb(9,"h2"),s.mc(10,"Las caba\xf1as rentadas hoy son:"),s.Qb(),s.Qb(),s.Qb(),s.Qb(),s.Rb(11,"ion-row",2),s.Rb(12,"ion-col"),s.Rb(13,"div",3),s.Rb(14,"ion-text",4),s.Rb(15,"h1"),s.mc(16),s.Qb(),s.Qb(),s.Nb(17,"img",5),s.Qb(),s.Qb(),s.Qb(),s.Rb(18,"ion-row"),s.Rb(19,"ion-col"),s.Rb(20,"div",3),s.Rb(21,"ion-button",6),s.Zb("click",function(){return o.addBooking()}),s.mc(22," Reservar caba\xf1a "),s.Nb(23,"ion-ripple-effect"),s.Qb(),s.Qb(),s.Qb(),s.Qb(),s.Qb(),s.Qb(),s.Rb(24,"ion-tab-bar",7),s.Rb(25,"ion-tab-button",8),s.Rb(26,"ion-label"),s.mc(27,"Inicio"),s.Qb(),s.Nb(28,"ion-icon",9),s.Qb(),s.Rb(29,"ion-tab-button",10),s.Rb(30,"ion-label"),s.mc(31,"Reservas"),s.Qb(),s.Nb(32,"ion-icon",11),s.Qb(),s.Rb(33,"ion-tab-button",12),s.Rb(34,"ion-label"),s.mc(35,"Clientes"),s.Qb(),s.Nb(36,"ion-icon",13),s.Qb(),s.Rb(37,"ion-tab-button",14),s.Zb("click",function(){return o.logout()}),s.Rb(38,"ion-label"),s.mc(39,"Salir"),s.Qb(),s.Nb(40,"ion-icon",15),s.Qb(),s.Qb()),2&n&&(s.Cb(3),s.oc("Bienvenido ",o.user,""),s.Cb(13),s.nc(o.cabinsOccupated))},directives:[b.r,b.I,b.H,b.m,b.q,b.A,b.l,b.F,b.e,b.y,b.D,b.E,b.w,b.s],styles:[".home-admin__cabins[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:flex-end}"]}),n})()}];let m=(()=>{class n{}return n.\u0275fac=function(o){return new(o||n)},n.\u0275mod=s.Kb({type:n}),n.\u0275inj=s.Jb({imports:[[a.i.forChild(d)],a.i]}),n})(),h=(()=>{class n{}return n.\u0275fac=function(o){return new(o||n)},n.\u0275mod=s.Kb({type:n}),n.\u0275inj=s.Jb({imports:[[t.c,e.a,b.J,m]]}),n})()}}]);